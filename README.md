# Motoriver_RROFE_proj
**https://youtu.be/3C4zs7jiLLE** - ссылка на тестовый заезд робота

**Файловая структура проекта**

Репозиторий содержит:

/final - исполняемые программы для Raspberry Pi и Arduino

/pcb - принципиальная схема платы-шилда для подключения всей электроники, трассировка платы и ее финальный вид

/qualification - программа на Arduino для прохождения этапа (квалификация)

/video - видеоматериал работающей программы на этапе "квалификация"

/фото робота - фотографии конструкции робота и его общего внешнего вида

**Описание конструкции и электроники**

Платформа робота была собрана из конструктора Lego и отдельных узлов, спроектированных в программе Компас 3Д с 
последующей печатью на 3Д принтере. В движение платформа приводится коллекторным двигателем JGA25 на 600 оборотов в минуту. 
Поворачивает робот при помощи передних колес и сервопривода. Для поиска цветных объектов мы используем 
аппаратную платформу Raspberry Pi и комплектую камеру, а для обработки датчиков и управления мотором используется Arduino, 
Для согласования всех электронных компонентов была разработана своя печатная плата и изготовления на ЧПУ фрезерном станке. 
Это позволило избавиться от множества проводов и повысить надежность робота.

**Алгоритм работы робота**

После подачи питания на робота он ждет нажатия на кнопку старта. Далее стартует в прямом направлении и едет до линии, по ней 
определяет направление движения (по часовой стрелки / против часовой стрелки) и продолжает движение, используя УЗ датчик.
Этим датчиком расстояния он вычислят дистанцию до стенок и удерживает ее пропорционально-дифференциальным регулятором, подавая
управляющее воздействие на сервопривод. Повороты считает также при помощи датчика цвета и финиширует при достижении счетчика 12 линий.
Для объезда цветных объектов использует камеру Raspberry Pi. Когда в объекте есть цветной объект нужного цвета и размера (в пикселях) 
определяем с какой стороны его объехать (красный справа, зеленый слева) и задаем больше или меньше дистанцию до внутренней стенки. 
Таким образом робот перестраивается ближе или дальше от внутреннего борта и объезжает препятствие.
